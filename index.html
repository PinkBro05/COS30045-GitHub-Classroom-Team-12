<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Road Safety Australia</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/visualisation.css">
</head>
<body>
    <header>
        <h1>Road Safety Infringement in Australia</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html" class="active">Data Overview</a></li>
            <li><a href="drink-drugs-overview.html">Drink and Drugs Comparison</a></li>
            <li><a href="drugs-comparison.html">Drug Usage Comparison</a></li>
            <li><a href="method-comparison.html">Fines Method Comparison</a></li>
        </ul>
    </nav>

    <main>
        <div class="intro">
            <h2>Road Safety Data Overview</h2>
            <p>This dashboard provides an overview of road safety infringements across Australia.</p>
        </div>

        <!-- User Interaction Guide -->
        <div class="user-guide">
            <h3>How to Use This Dashboard</h3>
            <div class="guide-content">
                <div class="guide-section">
                    <h4>üß≠ Navigation</h4>
                    <ul>
                        <li><strong>Top Navigation Menu:</strong> Click on any tab to explore different aspects of road safety data:
                            <ul>
                                <li><em>Data Overview</em> - Main dashboard with filters and comprehensive charts</li>
                                <li><em>Drink and Drugs Comparison</em> - Alcohol and drug testing trends</li>
                                <li><em>Drug Usage Comparison</em> - State-by-state drug usage analysis</li>
                                <li><em>Fines Method Comparison</em> - Police vs camera fines comparison</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h4>üîç Interactive Filters</h4>
                    <ul>
                        <li><strong>Metric Dropdown:</strong> Select different types of road safety data (Speed Fines, Drug Tests, etc.) or choose <em>"All Metrics Combined"</em> to see aggregated data across all categories</li>
                        <li><strong>Year Dropdown:</strong> Choose specific years to analyze trends over time</li>
                        <li><strong>Filter Effect:</strong> Both charts below will automatically update to reflect your selections</li>
                        <li><strong>"All Metrics" View:</strong> When selected, displays the sum of all metrics combined for comprehensive analysis</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h4>üó∫Ô∏è Australia Map & Bar Chart</h4>
                    <ul>
                        <li><strong>Color-Coded Map:</strong> Darker blue states have higher values for the selected metric</li>
                        <li><strong>Color Legend:</strong> Located at the bottom-right of the map to interpret data ranges</li>
                        <li><strong>Companion Bar Chart:</strong> Shows exact values for each state, sorted from lowest to highest</li>
                        <li><strong>State Labels:</strong> Each bar displays the state abbreviation and exact numerical value</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h4>üìà Stacked Area Chart</h4>
                    <ul>
                        <li><strong>Hover Effects:</strong> Move your mouse over any area to see detailed information in tooltips</li>
                        <li><strong>Interactive Legend:</strong> Click on any state name in the legend to:
                            <ul>
                                <li>Highlight that specific state's data</li>
                                <li>Dim other states for better focus</li>
                                <li>Click again to return to viewing all states</li>
                            </ul>
                        </li>
                        <li><strong>Reference Lines:</strong> Vertical lines mark important policy milestones:
                            <ul>
                                <li>Red dashed line: 2021-30 National Road Safety Strategy</li>
                                <li>Blue dashed line: 2023-25 Action Plan</li>
                            </ul>
                        </li>
                        <li><strong>Time Series:</strong> X-axis shows years, Y-axis shows count/fines values</li>
                    </ul>
                </div>

                <div class="guide-section">
                    <h4>üí° Tips for Best Experience</h4>
                    <ul>
                        <li><strong>Start with Filters:</strong> Choose your preferred metric and year before exploring charts</li>
                        <li><strong>Cross-Reference:</strong> Compare patterns between the map and area chart for deeper insights</li>
                        <li><strong>Mobile Friendly:</strong> All visualizations are responsive and work on mobile devices</li>
                        <li><strong>Tooltips:</strong> Hover over any chart element to see detailed information</li>
                        <li><strong>Legend Interactions:</strong> Remember that clicking legend items can filter data views</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="filters">
            <h3>Filters</h3>
            <div id="metric-filters"></div>
        </div>

        <div class="chart-section">
            <h3>Infringement Distribution by State</h3>
            <div id="australia-map" class="responsive-svg-container"></div>
        </div>

        <div class="chart-section">
            <h3>Infringement Categories Over Time</h3>
            <div id="stacked-area" class="responsive-svg-container"></div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Road Safety Australia Data Visualisation</p>
    </footer>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3.0.2/dist/topojson.js"></script>
    <script src="js/libs/d3-color-legend.js"></script>

    <script src="js/shared-constants.js"></script>
    <script src="js/interactions.js"></script>
    <script src="js/graphs/australia-map.js"></script>
    <script src="js/graphs/stacked-area.js"></script>
    <script src="js/graphs/combination-chart.js"></script>
    <script src="js/load-data/index.js"></script>
</body>
</html>